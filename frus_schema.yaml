ENTITY("Document"):
    NODE("Document") document:
        + docID = Document.id
        - subtype = Document.subtype # historical or editorial
        - volume = Document.volume
        - date = AUX(Document.date)
        - year = INT(Document.year)
        - title = Document.title
        - era = Document.era
        - personSentBy = Document.person_sentby #[]
        - personSentTo = Document.person_sentto #[]
        - instutionSentBy = Document.inst_sentby #[]
        - instutionSentTo = Document.inst_sentto #[]
        - personMentioned = Document.person_mentioned #[]
        - instutionMentioned = Document.inst_mentioned #[]
    NODE("Volume") volume:
        + id = Document.volume
        #- name = 
        #- preface =
    ONLY_CREATE_IF_EXISTS(NODE("Source"), 'source') source:
        + name = Document.source
    ONLY_CREATE_IF_EXISTS(NODE("City"), 'city') city:
        + name = Document.city
    RELATION(document, "INSTANCE_OF", volume):
    ONLY_CREATE_IF_EXISTS(RELATION(document, "STORED", source), 'source'):
    ONLY_CREATE_IF_EXISTS(RELATION(document, "FROM", city), 'city'):


ENTITY("Person"):
    NODE("Person") person:
        + id = Person.id
        - name = Person.name
        - description = Person.description
        #- bornIn = Person.bornCountry


ENTITY("Year"):
    NODE("Year") year:
        + year = INT(Year.year)
    RELATION(MATCH("Document", year=INT(Year.year)), "DATED", year):


ENTITY("Era"):
    NODE("PresidentialEra") pe:
        + name = Era.president
        - startDate = AUX(Era.startDate)
        - endDate = AUX(Era.endDate)
        - startYear = INT(Era.startYear)
        - endYear = INT(Era.endYear)
    RELATION(MATCH("Document", era=Era.president), "DURING", pe):
    RELATION(pe, "STARTED_AT", MATCH("Year", year=INT(Era.startYear))):
    RELATION(pe, "ENDED_AT", MATCH("Year", year=INT(Era.endYear))):


ENTITY("PersonSentBy"):
    NODE("Person") person:
        + id = PersonSentBy.person_id # merged new id
    NODE("Document") document:
        + docID = PersonSentBy.sent
    RELATION(document, "SENT_BY", person):
        # dateSent = PersonSentBy.dateSent

ENTITY("PersonSentTo"):
    NODE("Person") person:
        + id = PersonSentTo.person_id
    NODE("Document") document:
        + docID = PersonSentTo.received
    RELATION(document, "SENT_TO", person):

ENTITY("PersonMentionedIn"):
    NODE("Person") person:
        + id = PersonMentionedIn.person_id
    NODE("Document") document:
        + docID = PersonMentionedIn.mentioned_in
    RELATION(document, "MENTIONED", person):


ENTITY("Country"):
    NODE("Country") country:
        + name = Country.countryLabel
        - url = Country.countryTag
#        - capital = Country.capital
#        - governance = Country.governance
#        - continent = Country.continent
#        - region = Country.region
#    RELATION(country, "BORN_IN", MATCH("Person", bornIn=Country.name)):


ENTITY("CityCountry"):
    NODE("City") city:
        + name = CityCountry.name
        - name_list = CityCountry.name_list
    ONLY_CREATE_IF_EXISTS(NODE("Country"), 'country') country:
        + name = CityCountry.country
    ONLY_CREATE_IF_EXISTS(RELATION(city, "LOCATED_IN", country), 'country'):



#ENTITY("Instution"):
#    NODE("Instution") inst:
#        + id = INT(Instution.id)
#        - name = Instution.name
#        - description = Instution.description
#    RELATION(person, "SENT_BY", MATCH("Document", personSentBy=Person.id)):
#    RELATION(person, "SENT_TO", MATCH("Document", personSentTo=Person.id)):